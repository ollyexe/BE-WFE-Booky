<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>

    <title>Login</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.2.1/axios.min.js"></script>
    <link href="css.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" >
    <meta name="viewport" content="width=device-width, initial-scale=1.0" >

</head>
<body>


    <div id="app" >

        <div v-if="role===1||role===0">
            <div v-if="role>-1" id="nav_Bar">
                <nav class="navbar navbar-expand-lg navbar-light bg-navBar">
                <a v-if="role===1" class="navbar-brand text-white" >Benvenut* {{utente['nome']}}</a>
                    <a v-if="role===0" class="navbar-brand text-white" href="#">Benvenut* Guest</a>
                <button class="navbar-toggler float-right collapsed" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon "></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item active">
                            <a @click="home_transition" class="nav-link" href="#">Home </a>
                        </li>

                        <li  class="nav-item">
                            <a v-if="role===0" @click="go_to_loginpage" class="nav-link" href="#">Login</a>
                        </li>

                        <li class="dropdown nav-item">
                            <a href="#" class=" nav-link " data-toggle="dropdown"  aria-expanded="false">Tue lezione <i class="fa-solid fa-2xs fa-caret-square-down"></i></a>
                            <ul class="dropdown-menu bg-navBar" role="menu">
                                <li class="nav-item">
                                    <a v-if="role===1" @click="bookings_transition" class="nav-link  " href="#" >Prenotate</a>
                                </li>
                                <li class="nav-item">
                                    <a v-if="role===1" @click="for_confirmation_transition
                                    " class="nav-link "  href="#" >Da confermare</a>
                                </li>
                                <li class="nav-item">
                                    <a v-if="role===1" @click="order_transition" class="nav-link "  href="#" >Concluse</a>
                                </li>
                            </ul>
                        </li>






                        <li class="nav-item">
                            <a v-if="role===2" class="nav-link " href="#" >Visualizza Storici</a>
                        </li>
                        <li class="nav-item">
                            <a v-if="role===2" class="nav-link " href="#" >Inserisci Docenti</a>
                        </li>
                        <li class="nav-item">
                            <a v-if="role===0||role===1" @click="help_transition" class="nav-link " href="#" >Assistenza</a>
                        </li>
                        <li  class="nav-item">
                            <a v-if="role===1" @click="logout" class="nav-link text-danger" href="#" >Logout</a>
                        </li>
                    </ul>
                </div>
            </nav>
            </div>

            <div v-if="home" id="home_page" >
                <section id="cover" >
                    <div class="p-3 mb-2 bg-filter__p"></div>
                    <div class="cover__caption justify-content-center">
                        <div class="cover__caption__copy">
                            <h1>PRENOTAZIONE LEZIONI</h1>
                            <h2>lezioni disponibili</h2>
                            <br>
                            <a v-if="role===0" @click="go_to_loginpage" class=" btn button__p">Acquista lezioni</a>
                            <a v-if="role===1" @click="selector_transition" class=" btn button__p">Acquista lezioni</a>
                        </div>
                    </div>
                </section>





                <!--Admin-->







                <!--Help-->






<!--Lessons-->




<!--Students-->



                <!--Professor-->
























            </div>

            <div v-if="selector" id="selector" >
                <div class="row g-0">
                    <div class="col-md-6 g-0">
                        <div class="left-side__b"></div> <!--g-o = no-gutters in bootsrap4-->
                        <div class="left-side d-flex justify-content-center align-items-center left-side_bg_img" >
                            <div class=" justify-content-center" style="z-index: 1">
                                <div class="cover__caption__copy" style="z-index: 1">
                                    <h1>PRENOTAZIONE LEZIONI</h1>
                                    <br>
                                    <h2>in base alla materia</h2>
                                    <br>
                                    <a v-if="role===0" @click="go_to_loginpage" class=" btn button__p">Acquista lezioni</a>

                                    <a v-if="role===1" @click="subject_page_transition" class=" btn button__p">Acquista lezioni</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6 g-0">
                        <div class="right-side__b"></div>
                        <div class="right-side d-flex justify-content-center align-items-center right-side_bg_img">
                            <div class=" justify-content-center" style="z-index: 1">
                                <div class="cover__caption__copy" style="z-index: 1">
                                    <h1>PRENOTAZIONE LEZIONI</h1>
                                    <br>
                                    <h2>in base al professore</h2>
                                    <br>
                                    <a v-if="role===1" @click="professors_page_transition" class=" btn button__p">Acquista lezioni</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div v-if="professors_page" id="prof_page">
                <section class="flex-grow justify-content-lg-between justify-content-lg-evenly flex-wrap" style="display: list-item !important;">
                   <div v-for="docente in docenti"> <div class="card-prof" style="float: left">
                        <div class="image-content-prof">
                            <span class="overlay-prof"></span>
                            <div class="card-image-prof">
                                <img :src="docente['pf']" alt="" class="card-img-prof">
                            </div>
                        </div>
                        <div class="card-content-prof">
                            <p class="name" style="font-size: 20px">Prof. {{ docente['nome'] }} {{ docente['cognome'] }}</p>
                            <p class="description">15:00/19:00</p>
                            <div class="list-inline-item">
                                <a class="description" style="text-decoration: none" v-for="materia in docente['corsi']">{{materia}} </a>
                            </div>
                            <br>
                            <h2 align="center"><button @click="get_lezioni_libere_by_professor(docente['ID']).then(selected_professor_transition(docente) )" class="button2">Seleziona</button></h2>
                        </div>
                    </div>
                   </div>
                </section>
            </div>

            <div v-if="professor_is_selected" id="selected professor">

                <section class="" style="height: 91vh">
                    <div class="container py-0">

                        <div class="row d-flex justify-content-center align-content-center my-4">
                            <div class="col-md-10">
                                <div class="card mb-8">
                                    <div class="card-header py-3">
                                        <h5 class="mb-0">Lezioni del professor {{ selected_professore['nome']}} {{ selected_professore['cognome']}}</h5>
                                    </div>
                                    <br>
                                    <div class="btn-group justify-content-evenly">
                                        <div class="dropdown" >
                                            <select class="form-select" data-style="btn-info" aria-label="Default select example" v-model="sel_data">
                                                <option value=""  selected>Seleziona la data</option>
                                                <option v-for="giorno in selector_data" :value="giorno" class="form-control">{{giorno}} {{get_day_week(giorno)}}</option>
                                            </select>
                                        </div>

                                        <div class="dropdown" >
                                            <select class="form-select" aria-label="Default select example" v-model="sel_ora">
                                                <option value=""  selected>Seleziona l'ora</option>
                                                <option v-for="ora in selector_ora" :value="ora" class="form-control">{{ora}}-{{one_h_later(ora)}}</option>
                                            </select>

                                        </div>
                                        <div class="dropdown" >

                                            <select class="form-select" aria-label="Default select example" v-model="sel_materia">
                                                <option value=""  selected>Seleziona la materia</option>
                                                <option  v-for="mat in selector_materie" :value="mat" class="form-control" >{{mat}}</option>
                                            </select>
                                        </div>

                                        <div >
                                            <button  @click="filtra_lezioni"  class="btn btn-info">Cerca</button>
                                            <button v-if="search_button_is_hiden" @click="cancella_filtri(selected_professore['ID'])" class="btn btn-close"></button>
                                        </div>
                                    </div>
                                    <div v-for="lex in lezioni" class="card-body">
                                        <!-- Single item -->
                                        <div class="row">
                                            <section class="team section-bg">
                                                <div class="container">
                                                    <div class="row">
                                                        <div class="col-lg-12"> <!--Larghezza Card-->
                                                            <div class="member d-flex align-items-center justify-content-evenly">
                                                                <div class="teampic"><img :src="lex['pf']" class=" card-image-prof"  alt=""></div>
                                                                <div class="member-info">
                                                                    <h4>Prof. {{lex['nome_docente']}} {{lex['cognome_docente']}}</h4>
                                                                    <span>Lezione di {{lex['nome_corso']}}</span>
                                                                    <p>{{get_day_week(lex['data'])}} {{lex['data']}}   {{lex['ora']}}-{{one_h_later(lex['ora'])}}</p>
                                                                </div>
                                                                <!-- Price -->
                                                                <div class="col-xl-2 text-end">
                                                                    <h5>{{lex['prezzo']}} € </h5>
                                                                </div>
                                                                <!-- Price -->
                                                                <!-- Button -->
                                                                <div class="  text-end">
                                                                    <button type="button" class="btn btn-primary">
                                                                        Aggiungi <i class="fa-solid fa-cart-shopping"></i>
                                                                    </button>
                                                                </div>
                                                                <!-- Button -->

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </section><!-- End Team Section -->
                                        </div>
                                        <!-- Single item -->


                                        <hr class="my-4" />



                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <div v-if="subjects_page" id="subj_page">
                <section class="flex-grow justify-content-lg-between justify-content-lg-evenly flex-wrap" style="display: list-item !important;">
                    <div v-for="materia in materie['corsi']"> <div class="card-prof" style="float: left">
                        <div class="image-content-prof">
                            <span class="overlay-prof"></span>
                            <div class="card-image-prof">
                                <img src="assets/subj_logo.jpg" alt="" class="card-img-prof">
                            </div>
                        </div>
                        <div class="card-content-prof">
                            <p class="name" style="font-size: 20px"> {{ materia }} </p>
                            <p class="description">15:00/19:00</p>
<!--                            <div class="list-inline-item">-->
<!--                                <a class="description" style="text-decoration: none" v-for="materia in docente['corsi']">{{materia}} </a>-->
<!--                            </div>-->
                            <br>
                            <h2 align="center"><button @click="get_lezioni_libere_by_materia(materia).then(selected_subj_transition(materia))" class="button2">Seleziona</button></h2>
                        </div>
                    </div>
                    </div>
                </section>
            </div>

            <div v-if="subj_is_selected" id="selected jubject">

                <section class="" style="height: 91vh">
                    <div class="container py-0">

                        <div class="row d-flex justify-content-center align-content-center my-4">
                            <div class="col-md-10">
                                <div class="card mb-8">
                                    <div class="card-header py-3">
                                        <h5 class="mb-0">Lezioni di {{selected_materia}}</h5>
                                    </div>
                                    <br>
                                    <div class="btn-group justify-content-evenly">
                                        <div class="dropdown" >
                                            <select class="form-select" data-style="btn-info" aria-label="Default select example" v-model="sel_data">
                                                <option value=""  selected>Seleziona la data</option>
                                                <option v-for="giorno in selector_data" :value="giorno" class="form-control">{{giorno}} {{get_day_week(giorno)}}</option>
                                            </select>
                                        </div>

                                        <div class="dropdown" >
                                            <select class="form-select" aria-label="Default select example" v-model="sel_ora">
                                                <option value=""  selected>Seleziona l'ora</option>
                                                <option v-for="ora in selector_ora" :value="ora" class="form-control">{{ora}}-{{one_h_later(ora)}}</option>
                                            </select>

                                        </div>
                                        <div class="dropdown" >

                                            <select class="form-select" aria-label="Default select example" v-model="sel_prof">
                                                <option value=""  selected>Seleziona il Professore</option>
                                                <option  v-for="prof in selector_professore" :value="prof['ID']" class="form-control" >{{prof['nome']}} {{prof['cognome']}}</option>
                                            </select>
                                        </div>

                                        <div >
                                            <button  v-if="!search_button_is_hiden" @click="filtra_lezioni_s"  class="btn btn-info">Cerca</button>
                                            <button v-if="search_button_is_hiden" @click="cancella_filtri_s(selected_materia)" class="btn btn-close"></button>
                                        </div>
                                    </div>
                                    <div v-for="lex in lezioni" class="card-body">
                                        <!-- Single item -->
                                        <div class="row">
                                            <section class="team section-bg">
                                                <div class="container">
                                                    <div class="row">
                                                        <div class="col-lg-12"> <!--Larghezza Card-->
                                                            <div class="member d-flex align-items-center justify-content-evenly">
                                                                <div class="teampic"><img :src="lex['pf']" class=" card-image-prof"  alt=""></div>
                                                                <div class="member-info">
                                                                    <h4>Prof. {{lex['nome_docente']}} {{lex['cognome_docente']}}</h4>
                                                                    <span>Lezione di {{lex['nome_corso']}}</span>
                                                                    <p>{{get_day_week(lex['data'])}} {{lex['data']}}   {{lex['ora']}}-{{one_h_later(lex['ora'])}}</p>
                                                                </div>
                                                                <!-- Price -->
                                                                <div class="col-xl-2 text-end">
                                                                    <h5>{{lex['prezzo']}} € </h5>
                                                                </div>
                                                                <!-- Price -->
                                                                <!-- Button -->
                                                                <div class="  text-end">
                                                                    <button type="button" class="btn btn-primary">
                                                                        Aggiungi <i class="fa-solid fa-cart-shopping"></i>
                                                                    </button>
                                                                </div>
                                                                <!-- Button -->

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </section><!-- End Team Section -->
                                        </div>
                                        <!-- Single item -->


                                        <hr class="my-4" />



                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <div v-if="history_page" id="ordini conclusi">
                <section class="" style="height: 91vh">
                    <div class="container py-0">

                        <div class="row d-flex justify-content-center align-content-center my-4">
                            <div class="col-md-10">
                                <div class="card mb-8">
                                    <div class="card-header py-3">
                                        <h5 class="mb-0">Lezioni concluse</h5>
                                    </div>
                                    <br>

                                    <div v-for="lex in lezioni_finite" class="card-body">
                                        <!-- Single item -->
                                        <div class="row">
                                            <section class="team section-bg">
                                                <div class="container">
                                                    <div class="row">
                                                        <div class="col-lg-12"> <!--Larghezza Card-->
                                                            <div class="member d-flex align-items-center justify-content-evenly">
                                                                <div class="teampic"><img :src="lex['pf']" class=" card-image-prof"  alt=""></div>
                                                                <div class="member-info">
                                                                    <h4>Prof. {{lex['nome_docente']}} {{lex['cognome_docente']}}</h4>
                                                                    <span>Lezione di {{lex['nome_corso']}}</span>
                                                                    <p>{{get_day_week(lex['data'])}} {{lex['data']}}   {{lex['ora']}}-{{one_h_later(lex['ora'])}}</p>
                                                                </div>
                                                                <!-- Price -->
                                                                <div class="col-xl-2 text-end">
                                                                    <h5>{{lex['prezzo']}} € </h5>
                                                                </div>
                                                                <!-- Price -->
                                                                <!-- Button -->
                                                                <div class="  text-end">
                                                                    <div class="btn-group" v-if="lex['valutazione']==='0'">
                                                                        <button type="button" @click="valuta_lezione(lex['nome_corso'],lex['email'],lex['data'],lex['ora'],1)" class="btn btn-warning" style="color: white">
                                                                            <i class="fa-solid fa-star"></i>
                                                                        </button>
                                                                        <button type="button" @click="valuta_lezione(lex['nome_corso'],lex['email'],lex['data'],lex['ora'],2)" class="btn btn-warning" style="color: white">
                                                                            <i class="fa-solid fa-star" ></i>
                                                                        </button>
                                                                        <button type="button" @click="valuta_lezione(lex['nome_corso'],lex['email'],lex['data'],lex['ora'],3)" class="btn btn-warning" style="color: white">
                                                                            <i class="fa-solid fa-star"></i>
                                                                        </button>
                                                                        <button type="button" @click="valuta_lezione(lex['nome_corso'],lex['email'],lex['data'],lex['ora'],4)" class="btn btn-warning" style="color: white">
                                                                            <i class="fa-solid fa-star"></i>
                                                                        </button>
                                                                        <button type="button" @click="valuta_lezione(lex['nome_corso'],lex['email'],lex['data'],lex['ora'],5)" class="btn btn-warning" style="color: white">
                                                                            <i class="fa-solid fa-star"></i>
                                                                        </button>
                                                                    </div>
                                                                    <div v-else>
                                                                        <h5>Valutata {{lex['valutazione']}} <i class="fa-solid fa-star"></i></h5>
                                                                    </div>
                                                                </div>
                                                                <!-- Button -->

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </section><!-- End Team Section -->
                                        </div>
                                        <!-- Single item -->


                                        <hr class="my-4" />



                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <div v-if="bookings_page" id="prenotazioni">
                <section class="" style="height: 91vh">
                    <div class="container py-0">

                        <div class="row d-flex justify-content-center align-content-center my-4">
                            <div class="col-md-10">
                                <div class="card mb-8">
                                    <div class="card-header py-3">
                                        <h5 class="mb-0">Lezioni prenotate</h5>
                                    </div>
                                    <br>
                                    <div v-for="lex in lezioni_prenotate" class="card-body">
                                        <!-- Single item -->
                                        <div class="row">
                                            <section class="team section-bg">
                                                <div class="container">
                                                    <div class="row">
                                                        <div class="col-lg-12"> <!--Larghezza Card-->
                                                            <div class="member d-flex align-items-center justify-content-evenly">
                                                                <div class="teampic"><img :src="lex['pf']" class=" card-image-prof"  alt=""></div>
                                                                <div class="member-info">
                                                                    <h4>Prof. {{lex['nome_docente']}} {{lex['cognome_docente']}}</h4>
                                                                    <span>Lezione di {{lex['nome_corso']}}</span>
                                                                    <p>{{get_day_week(lex['data'])}} {{lex['data']}}   {{lex['ora']}}-{{one_h_later(lex['ora'])}}</p>
                                                                </div>
                                                                <!-- Price -->
                                                                <div class="col-xl-2 text-end">
                                                                    <h5>{{lex['prezzo']}} € </h5>
                                                                </div>
                                                                <!-- Price -->
                                                                <!-- Button -->
                                                                <div class="  text-end">
                                                                    <button type="button"  @click="annulla_lezione(lex['nome_corso'],lex['email'],lex['data'],lex['ora']).then(this.get_lezioni_prenotate)" class="btn btn-danger">
                                                                        Annulla <i class="fa-solid fa-x"></i>
                                                                    </button>

                                                                    <button type="button" @click="add_2_gcal(lex)" class="btn btn-success" style="margin-top: 20px">
                                                                        <i class="fa-solid fa-add"></i>Calendario <i class="fa-solid fa-calendar"></i>
                                                                    </button>
                                                                </div>
                                                                <!-- Button -->

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </section><!-- End Team Section -->
                                        </div>
                                        <!-- Single item -->
                                        <hr class="my-4" />
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <div v-if="for_confirmation" id="da confermare">
                <section class="" style="height: 91vh">
                    <div class="container py-0">

                        <div class="row d-flex justify-content-center align-content-center my-4">
                            <div class="col-md-10">
                                <div class="card mb-8">
                                    <div class="card-header py-3">
                                        <h5 class="mb-0">Lezioni da confermare</h5>
                                    </div>
                                    <br>

                                    <div v-for="lex in lezioni_da_confermare" class="card-body">
                                        <!-- Single item -->
                                        <div class="row">
                                            <section class="team section-bg">
                                                <div class="container">
                                                    <div class="row">
                                                        <div class="col-lg-12"> <!--Larghezza Card-->
                                                            <div class="member d-flex align-items-center justify-content-evenly">
                                                                <div class="teampic"><img :src="lex['pf']" class=" card-image-prof"  alt=""></div>
                                                                <div class="member-info">
                                                                    <h4>Prof. {{lex['nome_docente']}} {{lex['cognome_docente']}}</h4>
                                                                    <span>Lezione di {{lex['nome_corso']}}</span>
                                                                    <p>{{get_day_week(lex['data'])}} {{lex['data']}}   {{lex['ora']}}-{{one_h_later(lex['ora'])}}</p>
                                                                </div>
                                                                <!-- Price -->
                                                                <div class="col-xl-2 text-end">
                                                                    <h5>{{lex['prezzo']}} € </h5>
                                                                </div>
                                                                <!-- Price -->
                                                                <!-- Button -->
                                                                <div class="  text-end">
                                                                    <button type="button" @click="concludi_lezione(lex['nome_corso'],lex['email'],lex['data'],lex['ora'])" class="btn btn-success
">
                                                                        Conferma <i class="fa-solid fa-check"></i>
                                                                    </button>
                                                                </div>
                                                                <!-- Button -->

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </section><!-- End Team Section -->
                                        </div>
                                        <!-- Single item -->


                                        <hr class="my-4" />



                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <div v-if="help" class="container-help" style="position: fixed">
                <header class="header-help">
                    <h1>Contattaci</h1>
                    <p>Se riscontri dei problemi puoi contattarci compilando i dati sottostanti</p>
                </header>
                <div class="content-help">
                    <div class="content-form">
                        <section>
                            <i class="fa fa-envelope fa-2x" aria-hidden="true"></i>
                            <h2>E-mail</h2>
                            <p>supporto.appandroid@gmail.com</p>
                        </section>
                    </div>
                </div>

                <form>
                    <div class="form-help">
                        <div class="right">
                            <div class="contact-form">
                                <input type="text" required>
                                <span>Nome</span>
                            </div>

                            <div class="contact-form">
                                <input type="E-mail" required>
                                <span>E-mail</span>
                            </div>
                            <div class="contact-form">
                  <textarea name="text">

                  </textarea>
                                <span> Scrivi un messaggio....</span>
                            </div>

                            <div class="contact-form">
                                <input type="submit" name="submit">
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div v-if="cart" id="cart_page">
                <section class="" style="height: 91vh">
                    <div class="container py-0">
                        <div class="row d-flex justify-content-center align-content-center my-4">
                            <div class="col-md-8">
                                <div class="card mb-8">
                                    <div class="card-header py-3">
                                        <h5 class="mb-0">Cart - 2 items</h5>
                                    </div>
                                    <div v-for="n in 4" class="card-body">
                                        <!-- Single item -->
                                        <div class="row">
                                            <section class="team section-bg">
                                                <div class="container">
                                                    <div class="row">
                                                        <div class="col-lg-12"> <!--Larghezza Card-->
                                                            <div class="member d-flex align-items-center justify-content-evenly">
                                                                <div class="teampic"><img src="assets/image1.jpg" class=" card-image-prof"  alt=""></div>
                                                                <div class="member-info">
                                                                    <h4>Prof. Nome Cognome</h4>
                                                                    <span>Lezione di Matematica</span>
                                                                    <p>20/02/2023 - 17:00/18:00</p>
                                                                </div>
                                                                <!-- Price -->
                                                                <div class="col-xl-2 text-end">
                                                                    <h5>$17.99</h5>
                                                                </div>
                                                                <!-- Price -->
                                                                <!-- Button -->
                                                                <div class="  text-end">
                                                                    <button type="button" class="btn btn-danger">
                                                                        Remove
                                                                    </button>
                                                                </div>
                                                                <!-- Button -->

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </section><!-- End Team Section -->
                                        </div>
                                        <!-- Single item -->


                                        <hr class="my-4" />



                                    </div>
                                </div>

                            </div>
                            <div class="col-md-4">
                                <div class="card mb-4">
                                    <div class="card-header py-3">
                                        <h5 class="mb-0">Summary</h5>
                                    </div>
                                    <div class="card-body">
                                        <ul class="list-group list-group-flush">
                                            <li
                                                    class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0">
                                                Products
                                                <span>$53.98</span>
                                            </li>
                                            <hr class="my-4" />
                                            <li
                                                    class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3">
                                                <div>
                                                    <strong>Total amount</strong>
                                                    <strong>
                                                        <p class="mb-0">(including VAT)</p>
                                                    </strong>
                                                </div>
                                                <span><strong>$53.98</strong></span>
                                            </li>
                                        </ul>

                                        <button type="button" class="btn btn-primary btn-lg btn-block">
                                            Go to checkout
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

            </div>
            <a v-if="role===1" @click="cart_transition" id="float_img" class="float" style="z-index: 1000">
            </a>


        </div>

        <div v-if="role===2">
            <div v-if="role===2" id="nav_Bar_admin">
                <nav class="navbar navbar-expand-lg navbar-light bg-navBar">
                    <a class="navbar-brand" href="#"></a>
                    <button class="navbar-toggler float-right collapsed" type="button" data-toggle="collapse" data-target="#navbarNav_admin" aria-controls="navbarNav_admin" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon "></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNav_admin">
                        <ul class="navbar-nav ms-auto">
                            <li class="nav-item active">
                                <a @click="home_transition_admin" class="nav-link" href="#">Dashboard </a>
                            </li>
                            <li  class="nav-item">
                                <a v-if="role===1" @click="profile_transition" class="nav-link" href="#" >Profilo</a>
                            </li>

                            <li class="dropdown nav-item">
                                <a href="#" class=" nav-link " data-toggle="dropdown"  aria-expanded="false">Inserisci <i class="fa-solid fa-2xs fa-caret-square-down"></i></a>
                                <ul class="dropdown-menu bg-navBar" role="menu">
                                    <li class="nav-item">
                                        <a v-if="role===2" @click="docente_transition_admin" class="nav-link  " href="#" >Docente</a>
                                    </li>
                                    <li class="nav-item">
                                        <a v-if="role===2" @click="corso_transition_admin" class="nav-link "  href="#" >Corso</a>
                                    </li>
                                    <li class="nav-item">
                                        <a v-if="role===2" @click="docenza_transition_admin" class="nav-link "  href="#" >Docenza</a>
                                    </li>
                                </ul>
                            </li>






                            <li class="nav-item">
                                <a v-if="role===2" class="nav-link " @click="storici_transition_admin" href="#" >Visualizza Storici</a>
                            </li>
                            <li  class="nav-item">
                                <a v-if="role===2" @click="logout" class="nav-link text-danger" href="#" >Logout</a>
                            </li>


                        </ul>
                    </div>
                </nav>
            </div>


               <div v-if="home" class="body-admin">

                <div class="container-admin">

                    <div class="content-admin">
                        <div class="cards-admin">
                            <div class="card-admin">
                                <div class="box-admin">
                                    <h1 class="h1-admin">10</h1>
                                    <h3 class="h3-admin">Lezioni Totali</h3>
                                </div>

                            </div>
                            <div class="card-admin">
                                <div class="box-admin">
                                    <h1 class="h1-admin">5</h1>
                                    <h3 class="h3-admin">Lezioni Prenotate</h3>
                                </div>
                            </div>
                            <div class="card-admin">
                                <div class="box-admin">
                                    <h1 class="h1-admin">5</h1>
                                    <h3 class="h3-admin">Lezioni Disponibili</h3>
                                </div>
                            </div>
                            <div class="card-admin">
                                <div class="box-admin">
                                    <h1 class="h1-admin">20</h1>
                                    <h3 class="h3-admin">Numero Studenti</h3>
                                </div>
                            </div>
                        </div>
                        <div class="content-2-admin">
                            <div class="book_lesson">
                                <div class="title-admin">
                                    <h2 class="h2-admin">Lezioni Programmate</h2>
                                </div>
                                <table class="table-admin">
                                    <tr>
                                        <th class="th-admin">Studente</th>
                                        <th class="th-admin">Professore</th>
                                        <th class="th-admin">Data</th>
                                        <th class="th-admin">Ora</th>
                                    </tr>
                                    <tr>
                                        <td class="td-admin">Nome Cognome</td>
                                        <td class="td-admin">Prof. Nome Cognome</td>
                                        <td class="td-admin">2023-02-18</td>
                                        <td class="td-admin">18:00</td>
                                    </tr>
                                    <tr>
                                        <td class="td-admin">Nome Cognome</td>
                                        <td class="td-admin">Prof. Nome Cognome</td>
                                        <td class="td-admin">2023-02-18</td>
                                        <td class="td-admin">18:00</td>
                                    </tr>
                                    <tr>
                                        <td class="td-admin">Nome Cognome</td>
                                        <td class="td-admin">Prof. Nome Cognome</td>
                                        <td class="td-admin">2023-02-18</td>
                                        <td class="td-admin">18:00</td>
                                    </tr>
                                    <tr>
                                        <td class="td-admin">Nome Cognome</td>
                                        <td class="td-admin">Prof. Nome Cognome</td>
                                        <td class="td-admin">2023-02-18</td>
                                        <td class="td-admin">18:00</td>
                                    </tr>
                                    <tr>
                                        <td class="td-admin">Nome Cognome</td>
                                        <td class="td-admin">Prof. Nome Cognome</td>
                                        <td class="td-admin">2023-02-18</td>
                                        <td class="td-admin">18:00</td>
                                    </tr>
                                    <tr>
                                        <td class="td-admin">Nome Cognome</td>
                                        <td class="td-admin">Prof. Nome Cognome</td>
                                        <td class="td-admin">2023-02-18</td>
                                        <td class="td-admin">18:00</td>
                                    </tr>
                                </table>
                            </div>
                            <div class="new-students">
                                <div class="title-admin">
                                    <h2 class="h2-admin">Nuovi Studenti</h2>
                                </div>
                                <table class="table-admin">
                                    <tr>
                                        <th class="td-admin">Nome</th>
                                        <th class="th-admin">Cognome</th>
                                    </tr>
                                    <tr>
                                        <td class="td-admin">Nome</td>
                                        <td class="td-admin">Cognome</td>
                                    </tr>
                                    <tr>
                                        <td class="td-admin">Nome</td>
                                        <td class="td-admin">Cognome</td>
                                    </tr>
                                    <tr>
                                        <td class="td-admin">Nome</td>
                                        <td class="td-admin">Cognome</td>
                                    </tr>
                                    <tr>
                                        <td class="td-admin">Nome</td>
                                        <td class="td-admin">Cognome</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                </div>


                <div v-if="d_storici" class="body-admin" id="storici">

                <div class="container-admin">

                    <div class="content-admin">
                        <div class="content-2-admin">
                            <div class="book_lesson">
                                <div class="title-admin">
                                    <h2>Lezioni Libere</h2>
                                </div>
                                <table>
                                    <tr>
                                        <th class="th-admin">Professore</th>
                                        <th class="th-admin">Materia</th>
                                        <th class="th-admin">Data</th>
                                        <th class="th-admin">Ora</th>
                                    </tr>
                                    <tr v-for="n in 10">
                                        <td class="td-admin">Prof. Nome Cognome</td>
                                        <td class="td-admin">Materia</td>
                                        <td class="td-admin">2023-02-18</td>
                                        <td class="td-admin">18:00</td>
                                    </tr>

                                </table>
                            </div>
                            <div class="book_lesson">
                                <div class="title-admin">
                                    <h2>Lezioni Prenotate</h2>
                                </div>
                                <table>
                                    <tr>

                                        <th class="th-admin">Professore</th>
                                        <th class="th-admin">Materia</th>
                                        <th class="th-admin">Data</th>
                                        <th class="th-admin">Ora</th>
                                        <th class="th-admin">Utente</th>

                                    </tr>
                                    <tr v-for="n in 5">
                                        <td class="td-admin">>Prof.Nome Cognome</td>
                                        <td class="td-admin">Materia</td>
                                        <td class="td-admin">2023-02-18</td>
                                        <td class="td-admin">18:00</td>
                                        <td class="td-admin">Mario Rossi</td>
                                    </tr>

                                </table>
                            </div>
                            <div class="book_lesson">
                                <div class="title-admin">
                                    <h2>Lezioni Concluse</h2>
                                </div>
                                <table>
                                    <tr>
                                        <th class="th-admin">Professore</th>
                                        <th class="th-admin">Materia</th>
                                        <th class="th-admin">Data</th>
                                        <th class="th-admin">Ora</th>
                                        <th class="th-admin">Utente</th>
                                        <th class="th-admin">Stelle</th>

                                    </tr>
                                    <tr v v-for="n in 10">
                                        <td class="td-admin">Prof. Nome Cognome</td>
                                        <td class="td-admin">Materia</td>
                                        <td class="td-admin">2023-02-18</td>
                                        <td class="td-admin">18:00</td>
                                        <td class="td-admin">Mario Rossi</td>
                                        <th class="th-admin">Stelle</th>
                                    </tr>


                                </table>
                            </div>

                        </div>
                    </div>
                </div>
                </div>

                <div v-if="d_docenza" class="body-admin" id="inserimento studente">
                <div class="container-admin">

                    <div class="content-admin">
                        <div class="content-2-admin">
                            <div class="book_lesson">
                                <div class="title-admin">
                                    <h2>Studenti</h2>
                                </div>
                                <table>
                                    <tr>
                                        <th class="th-admin">Nome</th>
                                        <th class="th-admin">Cognome</th>
                                        <th class="th-admin">Lezioni</th>
                                    </tr>
                                    <tr>
                                        <td class="td-admin">Nome</td>
                                        <td class="td-admin">Cognome</td>
                                        <td class="td-admin">10</td>
                                    </tr>
                                    <tr>
                                        <td class="td-admin">Nome</td>
                                        <td class="td-admin">Cognome</td>
                                        <td class="td-admin">2</td>
                                    </tr>
                                    <tr>
                                        <td class="td-admin">Nome</td>
                                        <td class="td-admin">Cognome</td>
                                        <td class="td-admin">5</td>
                                    </tr>
                                    <tr>
                                        <td class="td-admin">Nome</td>
                                        <td class="td-admin">Cognome</td>
                                        <td class="td-admin">0</td>
                                    </tr>
                                    <tr>
                                        <td class="td-admin">Nome</td>
                                        <td class="td-admin">Cognome</td>
                                        <td class="td-admin">3</td>
                                    </tr>
                                    <tr>
                                        <td class="td-admin">Nome</td>
                                        <td class="td-admin">Cognome</td>
                                        <td class="td-admin">7</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                </div>

                 <div v-if="d_docente" class="body-admin" id="inserimento docenti">
                <div class="container-admin">

                    <div class="content-admin">
                        <div class="content-2-admin">
                            <div class="book_lesson">
                                <div class="title-admin">
                                    <h2>Professori</h2>
                                </div>
                                <table>
                                    <tr>
                                        <th class="th-admin">ID</th>
                                        <th class="th-admin">Nome</th>
                                        <th class="th-admin">Cognome</th>
                                        <th class="th-admin"></th>

                                    </tr>
                                    <tr v-for="doc in docenti_attivi">
                                        <th class="th-admin">{{doc['ID']}}</th>
                                        <td class="td-admin">{{doc['nome']}}</td>
                                        <td class="td-admin">{{doc['cognome']}}</td>
                                        <td class="td-admin"></td>
                                        <th>
                                            <button type="button"  @click="cancela_professore(doc['email'])" class="btn btn-sm btn-danger">
                                                Elimina
                                            </button>
                                        </th>
                                    </tr>

                                </table>
                            </div>
                            <div class="new-students">
                                <div class="title-admin">
                                    <h2>Registra Professore</h2>
                                </div>
                                <div class="form-admin">
                                    <div class="input-group mb-3">

                                        <input type="text" class="form-control" placeholder="Nome" aria-label="Username" id="nome_d" aria-describedby="basic-addon1">
                                    </div>
                                    <div class="input-group mb-3">

                                        <input type="text" class="form-control" placeholder="Cognome" aria-label="Cognome" id="cognome_d" aria-describedby="basic-addon1">
                                    </div>
                                    <div class="input-group mb-3">
                                        <input type="text" class="form-control" placeholder="Email" @change="doc_insert_label=''" aria-label="Username" id="mail_d" aria-describedby="basic-addon1">
                                    </div>
                                    <div class="input-group mb-3">

                                        <input type="text" class="form-control" placeholder="Password" aria-label="Username" id="pass_d" aria-describedby="basic-addon1">
                                    </div>

                                    <button @click="registra_professore(get_mail_d,get_pass_d,get_nome_d,get_cognome_d)" class="login_button"  value="Registra" type="button" style="margin-top: 30px">Registra</button>

                                </div>
                                <div >
                                    <a  class="text-danger"  style="text-align: center;text-decoration: none" >{{doc_insert_label}}</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                </div>





        </div>





        <div v-if="role===-1" id="login_page" class="box__p">
            <div class="container__p">
                <form action="signup/signUp.html">
                    <!-- Email input -->
                    <div class="form-outline mb-4">
                        <input v-model="email"  type="email" placeholder="Email"  autocomplete="on" class="form-control" />
                    </div>

                    <!-- Password input -->
                    <div class="form-outline mb-4">
                        <input id="password_input" v-model="pass"   placeholder="Password" type="password" autocomplete="on" class="form-control" />
                    </div>




                    <div>

                        <button @click="login" class="login_button"  value="Login" type="button">Accedi</button>
                        <button  @click="guest_login" class="guest_button text-black"  value="Guest" type="button">Ospite</button>
                        <button class="login_button" style="background: linear-gradient(120deg,#8e44ad,#3498db);" type="submit">Registrazione</button>

                    </div>
                    <div >
                        <a  class="text-danger"  style="text-align: center;text-decoration: none" >{{login_label}}</a>
                    </div>


                </form>
            </div>
        </div>

    </div>



<script>


    var app = new Vue({
        el: '#app',
        data() {
           return {
               weekday : ["Domenica","Lunedi","Martedi","Mercoledi","Giovedi","Venerdi","Sabato"],
               email: '',
               pass: '',
               pf: 'https://cdn.pixabay.com/photo/2015/04/23/22/00/tree-736885__480.jpg',
               label_day_btn:'Giorno',
               home: true,
               profile:false,
               selector:false,
               professors_page:false,
               subjects_page:false,
               professor_is_selected:false,
               subj_is_selected:false,
               cart:false,
               history_page:false,
               bookings_page:false,
               for_confirmation:false,
               help:false,
               d_docente:false,
               d_corso:false,
               d_docenza:false,
               d_storici:false,

               role : -1,//-1= none 0 = guest 1 = user 2 = admin

               login_model: '',
               utente:'',
               login_label:'',
               docenti:'',
               selected_professore :' ' ,
               selected_materia :' ' ,
               materie: '',

               lezioni: '',
               lezioni_finite:'',
               lezioni_da_confermare:'',
               lezioni_prenotate:'',

               selector_materie:'',
               selector_ora:'',
               selector_data:'',
               selector_professore:'',
               sel_data:'',
               sel_ora:'',
               sel_materia:'',
               sel_prof:'',
               search_button_is_hiden:false,
               doc_insert_label:'',



               nome_d:'',
               cognome_d:'',
               mail_d:'',
               pass_d:'',
               docenti_attivi:''

           }


        },
        async mounted(){
            this.get_all_professori()
            this.get_all_materie()
            this.get_docenti_attivi()
            await this.on_load_login()


        },

        methods: {
            logout: function() {

                $.get("apiUtente",{path: "logout"},
                    function (data){


                    }
                )
                window.location.reload();
            },
            home_transition: function () {
                this.home = true;
                this.profile = false;
                this.selector = false;
                this.history_page=false
                this.bookings_page=false
                this.professors_page = false;
                this.subjects_page=false
                this.cart=false
                this.professor_is_selected=false
                this.subj_is_selected=false
                this.for_confirmation=false
                this.help=false
                document.title='Home'


            },
            profile_transition: function () {
                this.home = false;
                this.profile = true;
                this.selector = false;
                this.history_page=false
                this.bookings_page=false
                this.professors_page = false;
                this.subjects_page=false
                this.cart=false
                this.professor_is_selected=false
                this.subj_is_selected=false
                this.for_confirmation=false
                this.help=false
                document.title='Profile'
            },
            selector_transition: function () {
                this.home = false;
                this.profile = false;
                this.selector = true;
                this.history_page=false
                this.bookings_page=false
                this.professors_page = false;
                this.subjects_page=false
                this.cart=false
                this.professor_is_selected=false
                this.subj_is_selected=false
                this.for_confirmation=false
                this.help=false
                document.title='Selettore'
            },
            professors_page_transition: function () {
                this.home = false;
                this.profile = false;
                this.selector = false;
                this.history_page=false
                this.bookings_page=false
                this.professors_page = true;
                this.subjects_page=false
                this.cart=false
                this.professor_is_selected=false
                this.subj_is_selected=false
                this.for_confirmation=false
                this.help=false
                document.title='Professori'
            },
            subject_page_transition: function () {
                this.home = false;
                this.profile = false;
                this.selector = false;
                this.history_page=false
                this.bookings_page=false
                this.professors_page = false;
                this.subjects_page=true
                this.cart=false
                this.professor_is_selected=false
                this.subj_is_selected=false
                this.for_confirmation=false
                this.help=false
                document.title='Materie'
            },
            cart_transition: function () {
                this.home = false;
                this.profile = false;
                this.selector = false;
                this.professors_page = false;
                this.subjects_page=false
                this.cart=true
                this.history_page=false
                this.bookings_page=false
                this.professor_is_selected=false
                this.subj_is_selected=false
                this.for_confirmation=false
                this.help=false
                document.title='Carrello'
            },
            selected_professor_transition: function (sel_p) {
                this.home = false;
                this.profile = false;
                this.selector = false;
                this.professors_page = false;
                this.subjects_page=false
                this.cart=false
                this.history_page=false
                this.bookings_page=false
                this.professor_is_selected=true
                this.subj_is_selected=false
                this.selected_professore=sel_p
                this.for_confirmation=false
                this.help=false

                document.title='Professore Selezionato'


            },
            selected_subj_transition: function (sel_s) {
                this.home = false;
                this.profile = false;
                this.selector = false;
                this.professors_page = false;
                this.subjects_page=false
                this.cart=false
                this.professor_is_selected=false
                this.history_page=false
                this.bookings_page=false
                this.subj_is_selected=true
                this.selected_materia=sel_s
                this.for_confirmation=false
                this.help=false
                document.title='Materia Selezionata'


            },
            go_to_loginpage:function(){
                this.role=-1
                this.home = false;
                this.profile = false;
                this.selector = false;
                this.professors_page = false;
                this.subjects_page=false
                this.cart=false
                this.professor_is_selected=false
                this.subj_is_selected=false
                this.history_page=false
                this.bookings_page=false
                this.for_confirmation=false
                this.help=false
                document.title='Login'
            },
            order_transition: function () {
                this.home = false;
                this.profile = false;
                this.selector = false;
                this.professors_page = false;
                this.subjects_page=false
                this.cart=false
                this.professor_is_selected=false
                this.subj_is_selected=false
                this.history_page=true
                this.bookings_page=false
                this.for_confirmation=false
                this.get_lezioni_concluse
                this.help=false
                document.title='Ordini Conclusi'
            },
            bookings_transition: function () {
                this.home = false;
                this.profile = false;
                this.selector = false;
                this.professors_page = false;
                this.subjects_page=false
                this.cart=false
                this.professor_is_selected=false
                this.subj_is_selected=false
                this.history_page=false
                this.bookings_page=true
                this.for_confirmation=false
                this.help=false
                this.get_lezioni_prenotate()
                document.title='Prenotazioni'
            },
            for_confirmation_transition: function () {
                this.home = false;
                this.profile = false;
                this.selector = false;
                this.professors_page = false;
                this.subjects_page=false
                this.cart=false
                this.professor_is_selected=false
                this.subj_is_selected=false
                this.history_page=false
                this.bookings_page=false
                this.for_confirmation=true
                this.help=false
                this.get_lezioni_da_confermare()
                document.title='Da Confermare'
            },
            help_transition: function () {
                this.home = false;
                this.profile = false;
                this.selector = false;
                this.professors_page = false;
                this.subjects_page=false
                this.cart=false
                this.professor_is_selected=false
                this.subj_is_selected=false
                this.history_page=false
                this.bookings_page=false
                this.for_confirmation=false
                this.help=true
                document.title='Assistenza'
            },


            home_transition_admin: function () {
                this.home = true;
                this.d_docente=false;
                this.d_corso=false;
                this.d_docenza=false
                this.d_storici=false

                document.title='Home Admin'


            },
            corso_transition_admin: function () {
                this.home = false;
                this.d_docente=false;
                this.d_corso=true;
                this.d_docenza=false
                this.d_storici=false

                document.title='Corsi'


            },
            docente_transition_admin: function () {
                this.home = false;
                this.d_docente=true;
                this.d_corso=false;
                this.d_docenza=false
                this.d_storici=false

                document.title='Docenti'


            },
            docenza_transition_admin: function () {
                this.home = false;
                this.d_docente=false;
                this.d_corso=false;
                this.d_docenza=true
                this.d_storici=false

                document.title='Docenza'


            },
            storici_transition_admin: function () {
                this.home = false;
                this.d_docente=false;
                this.d_corso=false;
                this.d_docenza=false
                this.d_storici=true

                document.title='Storici'


            },

            on_load_login:async function(){
                var self=this

                try{
                    await $.get("apiUtente",{path: "sessionLogin"},
                        function (data) {
                            self.email=data['email']
                            if (data['login_state']=="true"){
                                $.get("apiUtente",{path: "getMiniUser", mail: data['email']},
                                    function (data){
                                        self.utente=data
                                        if (self.utente['ruolo']==='admin'){
                                            self.role=2
                                            self.home_transition
                                            document.title='Home'
                                        }
                                        else if (self.utente['ruolo']==='utente'){
                                            self.role=1
                                            self.home_transition
                                            document.title='Home'
                                        }

                                    }
                                )
                            }
                        })
                }catch (e) {
                    console.log(e)
                }
            },

            guest_login : function () {
                this.role=0
            },
            login : async function () {

                var self=this

                $.get("apiUtente",{path: "loginWeb", mail: self.email, pass: this.pass},
                    function (data) {
                        self.login_model=data
                        if(self.login_model['login_state']==='true'){
                            $.get("apiUtente",{path: "getMiniUser", mail: self.email},
                                function (data){

                                    self.utente=data
                                    if (self.utente['ruolo']==='admin'){
                                        self.role=2
                                        self.home_transition
                                        document.title='Home'
                                    }
                                    else if (self.utente['ruolo']==='utente'){
                                        self.role=1
                                        self.home_transition
                                        document.title='Home'
                                    }
                                    console.log(self.role)

                                }
                            )
                        }
                        else {
                            self.login_label="Controllare I dati"
                        }
                    }
                )
                this.get_lezioni_prenotate()
                this.get_lezioni_da_confermare()
                this.get_lezioni_concluse()

            },
            get_all_professori: async function () {

                var self=this

                await $.get("apiUtente",{path: "getAllDocenti"},
                    function (data) {
                        self.docenti=data
                    }
                )
            },
            get_docenti_attivi: async function () {

                var self=this

                await $.get("apiUtente",{path: "getDocentiAttivi"},
                    function (data) {
                        self.docenti_attivi=data
                    }
                )
            },
            get_all_materie: async function () {

                var self=this

                await $.get("apiCorso",{path: "getAllCorsi"},
                    function (data) {
                        self.materie=data
                    }
                )
            },
            get_lezioni_libere_by_professor: async function (ID) {

                var self=this

                await $.get("apiLezione",{path: "getLezioniLibereByDocente",ID:ID},
                    function (data) {
                        self.lezioni=data
                    }
                )



            },
            get_lezioni_libere_by_materia: async function (materia) {

                var self=this

                await $.get("apiLezione",{path: "getLezioniLibereByCorso",corso:materia},
                    function (data) {
                        self.lezioni=data
                    }
                )




            },
            get_lezioni_concluse: async function () {
                var self=this

                await $.get("apiLezione",{path: "getLezioniFinite",mail:self.email},
                    function (data) {
                        self.lezioni_finite=data
                    }
                )
            },
            get_lezioni_da_confermare: async function (mail) {
                var self=this

                await $.get("apiLezione",{path: "getLezioniDaConfermare",mail:self.email},
                    function (data) {
                        self.lezioni_da_confermare=data
                    }
                )
            },
            get_lezioni_prenotate: async function () {
                var self=this

                await $.get("apiLezione",{path: "getNextLezioniPrenotate",mail:self.email},
                    function (data) {
                        self.lezioni_prenotate=data
                    }
                )
            },
            get_docenti_by_corso: async function () {
                var self=this

                await $.get("apiUtente",{path: "getDocByCorso",corso:self.selected_materia},
                    function (data) {
                        self.selector_professore=data
                    }
                )
            },
            concludi_lezione : async function(corso,docente,data,ora){
                var self=this
                let esito
                 $.get("apiLezione",{path: "concludiLezione",corso:corso,docente:docente,data:data,ora:ora},
                    function (data) {
                        esito=data

                    }
                ).then(this.get_lezioni_da_confermare)

            },
            valuta_lezione : async function(corso,docente,data,ora,stelle){
                var self=this
                let esito
                $.get("apiLezione",{path: "valutaLezione",corso:corso,docente:docente,data:data,ora:ora,stelle:stelle},
                    function (data) {
                        esito=data

                    }
                ).then(this.get_lezioni_concluse)

            },
            annulla_lezione : async function(corso,docente,data,ora){
                var self=this
                let esito
                $.get("apiLezione",{path: "annullaLezione",corso:corso,docente:docente,data:data,ora:ora},
                    function (data) {
                        esito=data

                    }
                ).then(this.get_lezioni_prenotate)

            },
            prenota_lezione : async function(corso,docente,data,ora,utente){
                var self=this
                let esito
                $.get("apiLezione",{path: "prenotaLezione",corso:corso,docente:docente,data:data,ora:ora,utente:utente},
                    function (data) {
                        esito=data

                    }
                ).then(this.get_lezioni_prenotate)

            },


            cancela_professore:async function(doc){
                var self=this
                let esito
                $.get("apiUtente",{path: "deleteDocente",mail:doc},
                    function (data) {


                    }
                ).then(this.get_docenti_attivi)

            },
            registra_professore:async function(m,p,n,c){
                var self=this
                $.get("apiUtente",{path: "insertDocente",mail:m,pass:p,nome:n,cognome:c},
                    function (data) {
                        function clearInput() {
                            document.getElementById("nome_d").value=''
                            document.getElementById("cognome_d").value=''
                            document.getElementById("mail_d").value=''
                            document.getElementById("pass_d").value=''

                        }

                        if (data['registration_state']==='true'){
                            clearInput()
                            this.get_docenti_attivi

                        }
                        else if (data['registration_state']==='exists'){
                            self.doc_insert_label='Mail gia nel sistema'
                        }
                        else {
                            self.doc_insert_label='Errore generico'
                        }

                    }
                ).then(this.get_docenti_attivi)
                this.get_docenti_attivi

            },
            get_nome_d: function (){
                return $("#nome_d").val();

            },
            get_cognome_d: function (){
                return $("#cognome_d").val();

            },
            get_mail_d: function (){
                return $("#mail_d").val();

            },
            get_pass_d: function (){
                return $("#pass_d").val();

            },


            filtra_lezioni:function (){
                if (this.sel_data!==''&&this.sel_ora!==''&&this.sel_materia!==''){
                    this.lezioni =this.lezioni.filter(lezioni => (lezioni['data']===this.sel_data &&lezioni['ora']===this.sel_ora&&lezioni['nome_corso']===this.sel_materia))
                }
                else if(this.sel_data!==''&&this.sel_ora!==''){
                    this.lezioni =this.lezioni.filter(lezioni => (lezioni['data']===this.sel_data &&lezioni['ora']===this.sel_ora))
                }
                else if (this.sel_data!==''&&this.sel_materia!==''){
                    this.lezioni =this.lezioni.filter(lezioni => (lezioni['data']===this.sel_data &&lezioni['nome_corso']===this.sel_materia))
                }
                else if (this.sel_ora!==''&&this.sel_materia!==''){
                    this.lezioni =this.lezioni.filter(lezioni => (lezioni['ora']===this.sel_ora &&lezioni['nome_corso']===this.sel_materia))
                }
                else if (this.sel_ora!==''){
                    this.lezioni =this.lezioni.filter(lezioni => (lezioni['ora']===this.sel_ora ))
                }
                else if (this.sel_data!==''){
                    this.lezioni =this.lezioni.filter(lezioni => (lezioni['data']===this.sel_data ))
                }
                else {
                    this.lezioni =this.lezioni.filter(lezioni => (lezioni['nome_corso']===this.sel_materia))
                }

                this.search_button_is_hiden=!this.search_button_is_hiden


            },
            filtra_lezioni_s:function (){
                if (this.sel_data!==''&&this.sel_ora!==''&&this.sel_prof!==''){
                    this.lezioni =this.lezioni.filter(lezioni => (lezioni['data']===this.sel_data &&lezioni['ora']===this.sel_ora&&lezioni['ID_docente']===this.sel_prof))
                }
                else if(this.sel_data!==''&&this.sel_ora!==''){
                    this.lezioni =this.lezioni.filter(lezioni => (lezioni['data']===this.sel_data &&lezioni['ora']===this.sel_ora))
                }
                else if (this.sel_data!==''&&this.sel_prof!==''){
                    this.lezioni =this.lezioni.filter(lezioni => (lezioni['data']===this.sel_data &&lezioni['ID_docente']===this.sel_prof))
                }
                else if (this.sel_ora!==''&&this.sel_prof!==''){
                    this.lezioni =this.lezioni.filter(lezioni => (lezioni['ora']===this.sel_ora &&lezioni['ID_docente']===this.sel_prof))
                }
                else if (this.sel_ora!==''){
                    this.lezioni =this.lezioni.filter(lezioni => (lezioni['ora']===this.sel_ora ))
                }
                else if (this.sel_data!==''){
                    this.lezioni =this.lezioni.filter(lezioni => (lezioni['data']===this.sel_data ))
                }
                else {
                    this.lezioni =this.lezioni.filter(lezioni => (lezioni['ID_docente']===this.sel_prof))
                }

                this.search_button_is_hiden=!this.search_button_is_hiden


            },
            cancella_filtri:function (ID){
                this.get_lezioni_libere_by_professor(ID)
                this.search_button_is_hiden=!this.search_button_is_hiden
                this.sel_data=''
                this.sel_ora=''
                this.sel_materia=''
            },
            cancella_filtri_s:function (materia){
                this.get_lezioni_libere_by_materia(materia)
                this.search_button_is_hiden=!this.search_button_is_hiden
                this.sel_data=''
                this.sel_ora=''
                this.sel_prof=''
            },
            remuve_duplicates:function(arr) {
                return arr.filter((item,
                                   index) => arr.indexOf(item) === index);
            },
            get_day_week:function (data) {
                const d= new Date(data)
                return this.weekday[d.getDay()]
            },
            one_h_later:function (time) {
                 const t= new Date('1970-01-01T' + time +':00' + '-0000');
                return (t.getHours()+':'+t.getMinutes()+'0')
            },

            add_2_gcal:function (lex){
                const d= lex['data'].replaceAll('-','')
                const t= lex['ora'].replaceAll(':','')
                const t_l=this.one_h_later(lex['ora']).toString().replaceAll(':','')
                window.open(encodeURI('https://calendar.google.com/calendar/u/0/r/eventedit?text=Lezione+di+'+lex['nome_corso']+'+con+'+lex['cognome_docente']+'+'+lex['nome_docente']+'&dates='+d+'T'+t+'00/'+d+'T'+t_l+'00Z&details=zoom.com/random_reunion&location=Metavers&sf=true&output=xml'));
            }





        },
        watch:{
            pass : function (){
               this.login_label=''
            },
            email : function (){
                this.login_label=''
            },
            lezioni : function () {

                this.selector_ora =this.lezioni.map(function (item) {
                    return item['ora']
                });
                this.selector_materie =this.lezioni.map(function (item){

                    return item['nome_corso']
                });
                this.selector_data =this.lezioni.map(function (item) {
                    return item['data']
                });

                this.selector_data=this.remuve_duplicates(this.selector_data)
                this.selector_ora=this.remuve_duplicates(this.selector_ora)
                this.selector_materie=this.remuve_duplicates(this.selector_materie)
                this.get_docenti_by_corso()
            },


        },

    });

</script>


</body>
</html>